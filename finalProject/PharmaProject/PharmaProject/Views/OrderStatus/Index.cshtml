@model IEnumerable<PharmaProject.Models.OrderStatus>

@* view in user *@
@if (User.IsInRole("User"))


{


    <!-- Start Hero -->
    <div class="container-fluid animate__animated  animate__fadeIn">
        <section class="bg-half-170 d-table w-100" style="background: url('../assets2/images/track.jpg')center ; background-repeat:no-repeat;background-size:cover;">
            <div class="bg-overlay bg-overlay-dark"></div>
            <div class="container">
                <div class="row mt-5 justify-content-center">
                    <div class="col-12">
                        <div class="section-title text-center">
                            <h3 class="sub-title mb-4 text-white title-dark">WELCOME TO ORDER CHECKING PAGE</h3>
                            <p class="para-desc mx-auto text-white-50">Great Pharmacy if you need your family member to get effective immediate assistance, emergency treatment or a simple consultation.</p>

                            <nav aria-label="breadcrumb" class="d-inline-block mt-3">
                                <ul class="breadcrumb bg-light rounded mb-0 py-1 px-2">
                                    <li class="breadcrumb-item"><a>PHARMA CARE</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">OrderStatus</li>
                                </ul>
                            </nav>
                        </div>
                    </div><!--end col-->
                </div><!--end row-->
            </div><!--end container-->
        </section><!--end section-->
        <div class="position-relative">
            <div class="shape overflow-hidden text-color-white">
                <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z" fill="currentColor"></path>
                </svg>
            </div>
        </div>
        <!-- End Hero -->

        <div class="row justify-content-center mt-5">

            <div class="col-md-10">
                <div class="section-title text-center mb-4 pb-2">
                    <h3 class="title mb-4">TRACK AND CHECK YOUR ORDER STATUS BELOW..... </h3>
                    <p class="text-muted   mb-0">Thank you for choosing PHARMA CARE for your pharmaceutical needs. This page is designed to provide you with real-time updates on your order status, ensuring transparency and peace of mind throughout the entire process.Tracking your order is not just about knowing when it will arrive—it's about staying informed and in control of your healthcare needs.View comprehensive details of your order, including product names, quantities, and expected delivery dates.At PHARMA CARE, we understand that timely access to medications and pharmaceutical products is critical. That's why we’ve designed our order tracking system to be intuitive, reliable, and user-friendly, ensuring that you are always informed and in control..</p>


                </div>
            </div><!--end col-->
        </div>

        <!-- Start -->

        <div class="container mt-2">

            <div class="row">
                <div class="col-md-3">
                    <ul class="nav nav-pills nav-justified flex-column rounded shadow p-3 mb-0" id="pills-tab" role="tablist">

                        <li class="nav-item mt-2">
                            <a class="nav-link rounded " id="order-history" data-bs-toggle="pill" href="#orders" role="tab" aria-controls="orders" aria-selected="false">
                                <div class="text-start py-1 px-3">
                                    <h6 class="mb-0"><i class="uil uil-list-ul h5 align-middle me-2 mb-0"></i> Order Details</h6>
                                </div>
                            </a><!--end nav link-->
                        </li><!--end nav item-->

                        <li class="nav-item mt-2">
                            <a class="nav-link rounded active" id="download" data-bs-toggle="pill" href="#down" role="tab" aria-controls="down" aria-selected="false">
                                <div class="text-start py-1 px-3">
                                    <h6 class="mb-0"><i class="uil uil-arrow-circle-down h5 align-middle me-2 mb-0"></i> Orders Status</h6>
                                </div>
                            </a><!--end nav link-->
                        </li><!--end nav item-->

                        <li class="nav-item mt-2">
                            <a class="nav-link rounded" id="addresses" data-bs-toggle="pill" href="#address" role="tab" aria-controls="address" aria-selected="false">
                                <div class="text-start py-1 px-3">
                                    <h6 class="mb-0"><i class="uil uil-map-marker h5 align-middle me-2 mb-0"></i> Order Feedback</h6>
                                </div>
                            </a><!--end nav link-->
                        </li><!--end nav item-->


                    </ul><!--end nav pills-->
                </div><!--end col-->

                <div class="col-md-9 col-12">
                    <div class="tab-content" id="pills-tabContent">

                        <div class="tab-pane  fade shadow rounded p-4" id="orders" role="tabpanel" aria-labelledby="order-history">
                            <div class="table-responsive bg-white shadow rounded text-muted">
                                <h6 class=" text-center text-dark">Read Out The Points For Ease...</h6>
                                1. First companies will order us through our order now page located on navbar in the dropdown of orders..
                                <br />
                                2. The order will be reported to the admin and will soon start manufacturing, once the company order.
                                <br />
                                3. The manufacturers after some time will report the status of the order to the admin, the admin then fill the status form and then will update it on the website.
                                <br />
                                4. The companies will then come to this page "Track Your Order" and then by clicking the tab can check the status of their orders showing the status and the expected time....

                            </div>
                        </div><!--end teb pane-->

                        <div class="tab-pane show active fade shadow rounded p-4" id="down" role="tabpanel" aria-labelledby="download">
                            <table class="table mb-0 table-center table-nowrap">
                                <thead>
                                    <tr>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Order no.</th>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Company Name</th>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Medicine Type</th>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Medicine Name</th>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Expected Date</th>
                                        <th class="border-bottom" scope="col" style="white-space: nowrap;">Order Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var ordStatus in Model)
                                    {
                                        <tr>
                                            <td class="p-3">@ordStatus.OrdNum</td>
                                            <td class="p-3">@ordStatus.CompName</td>
                                            <td class="text-success p-3">@ordStatus.MedType</td>
                                            <td class="p-3"><span class="text-muted">@ordStatus.Name</span></td>
                                            <td class="p-3"><span class="text-muted">@ordStatus.Time</span></td>
                                            <td class="p-3">
                                                <div class="progress-box">
                                                    <div class="progress">
                                                        <div class="progress-bar progress-bar-striped progress-bar-animated position-relative bg-primary" style="width:@ordStatus.Status;">
                                                            <div class="progress-value text-muted pt-2 fs-6">@ordStatus.Status</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                    </table>


                </div><!--end teb pane-->

                    <div class="tab-pane fade shadow rounded p-4" id="address" role="tabpanel" aria-labelledby="addresses">
                        

                        <div class="table-responsive bg-white shadow rounded">
                            <table class="table mb-0 table-center table-nowrap">
                                <thead>
                                    <tr>
                                        <th class="border-bottom p-3 text-center" scope="col">Company Name</th>
                                    <th class="border-bottom p-3 text-center" scope="col">Product Name</th>
                                        <th class="border-bottom p-3 text-center" scope="col">Feedback</th>
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    <td class="p-3 text-center">abc&co</td>
                                        <td class="text-muted p-3 text-center">Tablet</td>
                                        <td class="text-success p-3 text-center">Very good quality with timely manufacturing</td>
                                    </tr>
                                    <tr>
                                    <td class="p-3 text-center">Herbion</td>
                                    <td class="text-muted p-3 text-center">Syringes</td>
                                        <td class="text-success p-3 text-center">Timely Dispatched with great manufacturing</td>
                                    </tr>
                                    <tr>
                                    <td class="p-3 text-center">aaa&co</td>
                                    <td class="text-muted p-3 text-center">Capsules</td>
                                    <td class="text-success p-3 text-center">Good order manufacturing.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div><!--end teb pane-->

                    
                </div>
            </div><!--end col-->
        </div><!--end row-->
    </div><!--end container-->
<!--end section-->
<!-- End -->
<!-- Start -->
<footer class="mt-5">
    <div class="container">
        <div class="row">
            <div class="col-xl-5 col-lg-4 mb-0 mb-md-4 pb-0 pb-md-2">
                <a class="logo-footer">
                    <img src="../assets2/images/logofinal.png" height="100" alt="">
                </a>
                <p class=" me-xl-5">Great pharmacy if you need your family member to get effective immediate assistance,cure or a simple medications.</p>
            </div><!--end col-->

            <div class="col-xl-7 col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                        <h5 class="footer-head">PHARMA CARE</h5>
                        <ul class="list-unstyled footer-list mt-4">
                            <li><a asp-area="" asp-controller="Home" asp-action="About" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> About us</a></li>
                            <li><a asp-area="" asp-controller="Career" asp-action="Create" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Careers</a></li>
                            <li><a asp-area="" asp-controller="Home" asp-action="Contact" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Contact Us</a></li>

                            <li><a asp-area="" asp-controller="Feed" asp-action="Create" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Feedback</a></li>

                        </ul>
                    </div><!--end col-->

                    <div class="col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                        <h5 class="footer-head">Products</h5>
                        <ul class="list-unstyled footer-list mt-4">
                            <li><a asp-area="" asp-controller="Tablet" asp-action="Index" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Tablets</a></li>
                            <li>
                                <a asp-area="" asp-controller="Capsules" asp-action="Index" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Capsules</a>

                            </li>
                            <li><a asp-area="" asp-controller="Liquid" asp-action="Index" class="text-foot"><i class="mdi mdi-chevron-right me-1"></i> Fillings</a></li>

                        </ul>
                    </div><!--end col-->

                    <div class="col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                        <h5 class="footer-head">Contact us</h5>
                        <ul class="list-unstyled footer-list mt-4">
                            <li class="d-flex align-items-center">
                                <i data-feather="mail" class="fea icon-sm text-foot align-middle"></i>
                                <a href="mailto:contact@example.com" class="text-foot ms-2">contact@example.com</a>
                            </li>

                            <li class="d-flex align-items-center">
                                <i data-feather="phone" class="fea icon-sm text-foot align-middle"></i>
                                <a href="tel:+152534-468-854" class="text-foot ms-2">+152 534-468-854</a>
                            </li>

                            <li class="d-flex align-items-center">
                                <i data-feather="map-pin" class="fea icon-sm text-foot align-middle"></i>
                                <a href="javascript:void(0)" class="video-play-icon text-foot ms-2">View on Google map</a>
                            </li>
                        </ul>

                        <ul class="list-unstyled social-icon footer-social mb-0 mt-4">
                            <li class="list-inline-item"><a href="#" class="rounded-pill"><i data-feather="facebook" class="fea icon-sm fea-social"></i></a></li>
                            <li class="list-inline-item"><a href="#" class="rounded-pill"><i data-feather="instagram" class="fea icon-sm fea-social"></i></a></li>
                            <li class="list-inline-item"><a href="#" class="rounded-pill"><i data-feather="twitter" class="fea icon-sm fea-social"></i></a></li>
                            <li class="list-inline-item"><a href="#" class="rounded-pill"><i data-feather="linkedin" class="fea icon-sm fea-social"></i></a></li>
                        </ul><!--end icon-->
                    </div><!--end col-->
                </div><!--end row-->
            </div><!--end col-->
        </div><!--end row-->
    </div><!--end container-->

   
</footer>
</div>

    <!--end footer-->
}
@* view for admin *@
else
{
    <div class="container-fluid bg-light mt-3 mb-4 animate__animated  animate__fadeIn">
        <div class="px-4 mb-4">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-10">



                    <h3 class="fw-600 text-dark-primary text-capitalize pt-3">Orders Status</h3>

                    <div class="d-flex flex-wrap justify-content-between align-items-center my-3">

                        <div class="d-flex flex-wrap text-capitalize align-items-center">
                            <p class="mb-0 pb-0 fw-bold text-dark-primary"><a asp-controller="Home" asp-action="Index">Dashboard</a></p>
                            <i class="bi bi-chevron-right pagination-arrow text-dark-primary"></i>
                            <p class="mb-0 pb-0 text-dark">Orders Status</p>
                        </div>

                        <div class="d-flex justify-content-start gap-1 flex-wrap">
                            <a asp-controller="Order" asp-action="Index" class="btn btn-primary me-1 mw-120 py-2 px-4 rounded-pill text-capitalize me-1">
                                <i class="bi bi-plus-circle me-2"></i> View Orders To Add Status
                            </a>

                            <button class="btn btn-success me-1 rounded-pill px-4" id="list">
                                <i class="fa-solid fa-list-ul fs-18"></i>
                            </button>
                        </div>

                    </div>
                    <!-- list view -->
                    <div class="list-show bg-white rounded-10 my-3 p-4">
                        <table class="table custom-data-table table-striped table-hover jakarta" id="doctorlist">
                            <thead class="table-primary">
                                <tr>

                                    <td class=" text-center">
                                       Order Number
                                    </td>
                                    <td class=" text-center">
                                        Company Name
                                    </td>
                                    <td class=" text-center">
                                        Medicine Type
                                    </td>
                                    <td class=" text-center">
                                        Machine Name
                                    </td>
                                    <td class=" text-center">
                                        Expected Delivery Date
                                    </td>
                                    <td class=" text-center">
                                        Status
                                    </td>
                                    <td class="text-center">Action</td>

                                </tr>
                            </thead>
                            <tbody class="text-center">
                                @foreach (var ordStatus in Model)
                                {
                                    <tr>
                                        <td>@ordStatus.OrdNum</td>
                                        <td>@ordStatus.CompName</td>
                                        <td>@ordStatus.MedType</td>
                                        <td>@ordStatus.Name</td>
                                        <td>@ordStatus.Time</td>
                                        <td class="p-3">
                                            <div class="progress-box">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-striped progress-bar-animated position-relative bg-primary" style="width:@ordStatus.Status;">
                                                        <div class="progress-value text-muted pt-2 fs-6">@ordStatus.Status</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>




                                            <form asp-controller="OrderStatus" asp-action="Edit" >
                                                <button type="submit" class="btn btn-outline-primary d-flex align-items-center justify-content-center fw-bold ms-5">
                                                    <i class="bi bi-pencil-square me-2"></i> Edit
                                                </button>
                                            </form>

                                                       
                                                
                                            
                                        </td>

                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <!-- grid view -->
                    <div class="list-hide d-none doctor-list my-3 py-4">
                        <div class="row">
                            @foreach (var ordStatus in Model)
                            {
                                <div class="col-sm-6 col-xl-4 col-xxl-3 mb-4">
                                    <div class="bg-white overflow-hidden shadow-sm doctor-card-main rounded-10">
                                        <div class="d-flex justify-content-center mb-5 doctor-card-bg h-100 doctor-card-bg1 py-5 position-relative">
                                            <div class="card-img doctor-list-img rounded-circle position-absolute bg-white d-flex justify-content-center align-items-center shadow-sm">
                                                <div class="doctor-img-outer d-flex align-items-center justify-content-center overflow-hidden">
                                                    <img src="~/libs/images/tab2.jpg" alt="" class="w-100">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-body p-3">
                                            <h5 class="doctor-name fs-5 fw-bold text-capitalize">@ordStatus.OrdNum</h5>
                                            <p class="fs-12 text-dark fw-500 text-capitalize text-light">Number: @ordStatus.CompName</p>
                                            <div class="doctor-about mb-5">
                                                <p class="text-dark fs-14 fw-normal mb-0">
                                                    <strong>Dies:</strong> @ordStatus.MedType<br>
                                                    <strong>Pressure:</strong> @ordStatus.Name<br>
                                                    <strong>Diameter:</strong> @ordStatus.Time<br>

                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
<script>

    document.addEventListener("DOMContentLoaded", function () {
        const listButton = document.getElementById('list');
        const gridButton = document.getElementById('grid');
        const listView = document.querySelector('.list-show');
        const gridView = document.querySelector('.list-hide');

        // Default to list view
        listView.classList.remove('d-none');
        gridView.classList.add('d-none');

        // Initialize DataTable and set placeholder
        if ($("#doctorlist").length > 0) {
            new DataTable('#doctorlist', {
                retrieve: true,
                responsive: true,
                "order": [5, 10, 15],
                lengthMenu: [5, 10, 15],
                "columnDefs": [{
                    "targets": 'no-sort',
                    "orderable": false,
                }]
            });
        }
        if ($("#doctorlist_filter").length > 0) {
            $("#doctorlist_filter input").attr("placeholder", "Search");
        }

        // List button click event
        listButton.addEventListener('click', function () {
            listView.classList.remove('d-none');
            gridView.classList.add('d-none');
        });

        // Grid button click event
        gridButton.addEventListener('click', function () {
            listView.classList.add('d-none');
            gridView.classList.remove('d-none');
        });
    });


    
</script>
